diff --git a/compiler/arm-none-eabi-m4/compiler.yml b/compiler/arm-none-eabi-m4/compiler.yml
index 0b102d6..71a7887 100644
--- a/compiler/arm-none-eabi-m4/compiler.yml
+++ b/compiler/arm-none-eabi-m4/compiler.yml
@@ -25,7 +25,7 @@ compiler.path.objdump: arm-none-eabi-objdump
 compiler.path.objsize: arm-none-eabi-size
 compiler.path.objcopy: arm-none-eabi-objcopy
 
-compiler.flags.base: -mcpu=cortex-m4 -mthumb-interwork -mthumb -Wall -Werror -fno-exceptions -ffunction-sections -fdata-sections
+compiler.flags.base: -mcpu=cortex-m4 -mthumb-interwork -mthumb -Wall -Werror -fno-exceptions -ffunction-sections -fdata-sections -fms-extensions -mfloat-abi=hard -mfpu=fpv4-sp-d16
 compiler.flags.default: [compiler.flags.base, -O1 -ggdb]
 compiler.flags.optimized: [compiler.flags.base, -Os -ggdb]
 compiler.flags.debug: [compiler.flags.base, -O1 -ggdb]
diff --git a/libc/baselibc/include/stdio.h b/libc/baselibc/include/stdio.h
index 8b82262..3252cde 100644
--- a/libc/baselibc/include/stdio.h
+++ b/libc/baselibc/include/stdio.h
@@ -93,10 +93,13 @@ __extern_inline char *strerror(int errnum)
 #define getc(f) fgetc(f)
 #define getchar() fgetc(stdin)
 
+#if 0 
+REMOVE PKETTLE 12/24/17
 __extern_inline int fflush(FILE *stream)
 {
 	return 0;
 }
+#endif
 
 __extern int printf(const char *, ...);
 __extern int vprintf(const char *, va_list);
